import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '@/hooks/useAuth';
import { LoadingSpinner } from './LoadingSpinner';
/**
 * ProtectedRoute component wraps routes that require authentication
 *
 * @example
 * <Route path="/admin" element={
 *   <ProtectedRoute requireAdmin>
 *     <AdminPage />
 *   </ProtectedRoute>
 * } />
 */
export function ProtectedRoute({ children, requireAdmin = false }) {
    const { isAuthenticated, isLoading, user } = useAuth();
    if (isLoading) {
        return (<div className="flex justify-center items-center min-h-screen">
        <LoadingSpinner size="lg"/>
      </div>);
    }
    if (!isAuthenticated) {
        return <Navigate to="/login" replace/>;
    }
    if (requireAdmin && user?.role !== 'admin') {
        return <Navigate to="/" replace/>;
    }
    return <>{children}</>;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvdGVjdGVkUm91dGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJQcm90ZWN0ZWRSb3V0ZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBVWxEOzs7Ozs7Ozs7R0FTRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQUMsRUFBRSxRQUFRLEVBQUUsWUFBWSxHQUFHLEtBQUssRUFBdUI7SUFDcEYsTUFBTSxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsT0FBTyxFQUFFLENBQUM7SUFFdkQsSUFBSSxTQUFTLEVBQUUsQ0FBQztRQUNkLE9BQU8sQ0FDTCxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsK0NBQStDLENBQzVEO1FBQUEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFDM0I7TUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUNQLENBQUM7SUFDSixDQUFDO0lBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUcsQ0FBQztJQUMxQyxDQUFDO0lBRUQsSUFBSSxZQUFZLElBQUksSUFBSSxFQUFFLElBQUksS0FBSyxPQUFPLEVBQUUsQ0FBQztRQUMzQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFHLENBQUM7SUFDckMsQ0FBQztJQUVELE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvaG9va3MvdXNlQXV0aCc7XG5pbXBvcnQgeyBMb2FkaW5nU3Bpbm5lciB9IGZyb20gJy4vTG9hZGluZ1NwaW5uZXInO1xuXG4vKipcbiAqIFByb3RlY3RlZFJvdXRlIGNvbXBvbmVudCBwcm9wc1xuICovXG5pbnRlcmZhY2UgUHJvdGVjdGVkUm91dGVQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJlcXVpcmVBZG1pbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogUHJvdGVjdGVkUm91dGUgY29tcG9uZW50IHdyYXBzIHJvdXRlcyB0aGF0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cbiAqXG4gKiBAZXhhbXBsZVxuICogPFJvdXRlIHBhdGg9XCIvYWRtaW5cIiBlbGVtZW50PXtcbiAqICAgPFByb3RlY3RlZFJvdXRlIHJlcXVpcmVBZG1pbj5cbiAqICAgICA8QWRtaW5QYWdlIC8+XG4gKiAgIDwvUHJvdGVjdGVkUm91dGU+XG4gKiB9IC8+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRSb3V0ZSh7IGNoaWxkcmVuLCByZXF1aXJlQWRtaW4gPSBmYWxzZSB9OiBQcm90ZWN0ZWRSb3V0ZVByb3BzKSB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcsIHVzZXIgfSA9IHVzZUF1dGgoKTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgbWluLWgtc2NyZWVuXCI+XG4gICAgICAgIDxMb2FkaW5nU3Bpbm5lciBzaXplPVwibGdcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIDxOYXZpZ2F0ZSB0bz1cIi9sb2dpblwiIHJlcGxhY2UgLz47XG4gIH1cblxuICBpZiAocmVxdWlyZUFkbWluICYmIHVzZXI/LnJvbGUgIT09ICdhZG1pbicpIHtcbiAgICByZXR1cm4gPE5hdmlnYXRlIHRvPVwiL1wiIHJlcGxhY2UgLz47XG4gIH1cblxuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufVxuIl19
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvdGVjdGVkUm91dGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJQcm90ZWN0ZWRSb3V0ZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xEOzs7Ozs7Ozs7R0FTRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQUMsRUFBRSxRQUFRLEVBQUUsWUFBWSxHQUFHLEtBQUssRUFBRTtJQUM3RCxNQUFNLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUN2RCxJQUFJLFNBQVMsRUFBRSxDQUFDO1FBQ1osT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQywrQ0FBK0MsQ0FDdEU7UUFBQSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUMzQjtNQUFBLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNWLENBQUM7SUFDRCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDbkIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFDRCxJQUFJLFlBQVksSUFBSSxJQUFJLEVBQUUsSUFBSSxLQUFLLE9BQU8sRUFBRSxDQUFDO1FBQ3pDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBQ0QsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUMzQixDQUFDO0FBQ0Qsa21GQUFrbUYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2hvb2tzL3VzZUF1dGgnO1xuaW1wb3J0IHsgTG9hZGluZ1NwaW5uZXIgfSBmcm9tICcuL0xvYWRpbmdTcGlubmVyJztcbi8qKlxuICogUHJvdGVjdGVkUm91dGUgY29tcG9uZW50IHdyYXBzIHJvdXRlcyB0aGF0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cbiAqXG4gKiBAZXhhbXBsZVxuICogPFJvdXRlIHBhdGg9XCIvYWRtaW5cIiBlbGVtZW50PXtcbiAqICAgPFByb3RlY3RlZFJvdXRlIHJlcXVpcmVBZG1pbj5cbiAqICAgICA8QWRtaW5QYWdlIC8+XG4gKiAgIDwvUHJvdGVjdGVkUm91dGU+XG4gKiB9IC8+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRSb3V0ZSh7IGNoaWxkcmVuLCByZXF1aXJlQWRtaW4gPSBmYWxzZSB9KSB7XG4gICAgY29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZywgdXNlciB9ID0gdXNlQXV0aCgpO1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICA8TG9hZGluZ1NwaW5uZXIgc2l6ZT1cImxnXCIvPlxuICAgICAgPC9kaXY+KTtcbiAgICB9XG4gICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgcmV0dXJuIDxOYXZpZ2F0ZSB0bz1cIi9sb2dpblwiIHJlcGxhY2UvPjtcbiAgICB9XG4gICAgaWYgKHJlcXVpcmVBZG1pbiAmJiB1c2VyPy5yb2xlICE9PSAnYWRtaW4nKSB7XG4gICAgICAgIHJldHVybiA8TmF2aWdhdGUgdG89XCIvXCIgcmVwbGFjZS8+O1xuICAgIH1cbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pVUhKdmRHVmpkR1ZrVW05MWRHVXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lKUWNtOTBaV04wWldSU2IzVjBaUzUwYzNnaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRXNUMEZCVHl4TFFVRkxMRTFCUVUwc1QwRkJUeXhEUVVGRE8wRkJRekZDTEU5QlFVOHNSVUZCUlN4UlFVRlJMRVZCUVVVc1RVRkJUU3hyUWtGQmEwSXNRMEZCUXp0QlFVTTFReXhQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTEUxQlFVMHNhVUpCUVdsQ0xFTkJRVU03UVVGRE1VTXNUMEZCVHl4RlFVRkZMR05CUVdNc1JVRkJSU3hOUVVGTkxHdENRVUZyUWl4RFFVRkRPMEZCVld4RU96czdPenM3T3pzN1IwRlRSenRCUVVOSUxFMUJRVTBzVlVGQlZTeGpRVUZqTEVOQlFVTXNSVUZCUlN4UlFVRlJMRVZCUVVVc1dVRkJXU3hIUVVGSExFdEJRVXNzUlVGQmRVSTdTVUZEY0VZc1RVRkJUU3hGUVVGRkxHVkJRV1VzUlVGQlJTeFRRVUZUTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWRCUVVjc1QwRkJUeXhGUVVGRkxFTkJRVU03U1VGRmRrUXNTVUZCU1N4VFFVRlRMRVZCUVVVc1EwRkJRenRSUVVOa0xFOUJRVThzUTBGRFRDeERRVUZETEVkQlFVY3NRMEZCUXl4VFFVRlRMRU5CUVVNc0swTkJRU3RETEVOQlF6VkVPMUZCUVVFc1EwRkJReXhqUVVGakxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NSVUZETTBJN1RVRkJRU3hGUVVGRkxFZEJRVWNzUTBGQlF5eERRVU5RTEVOQlFVTTdTVUZEU2l4RFFVRkRPMGxCUlVRc1NVRkJTU3hEUVVGRExHVkJRV1VzUlVGQlJTeERRVUZETzFGQlEzSkNMRTlCUVU4c1EwRkJReXhSUVVGUkxFTkJRVU1zUlVGQlJTeERRVUZETEZGQlFWRXNRMEZCUXl4UFFVRlBMRVZCUVVjc1EwRkJRenRKUVVNeFF5eERRVUZETzBsQlJVUXNTVUZCU1N4WlFVRlpMRWxCUVVrc1NVRkJTU3hGUVVGRkxFbEJRVWtzUzBGQlN5eFBRVUZQTEVWQlFVVXNRMEZCUXp0UlFVTXpReXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETEVWQlFVVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1QwRkJUeXhGUVVGSExFTkJRVU03U1VGRGNrTXNRMEZCUXp0SlFVVkVMRTlCUVU4c1JVRkJSU3hEUVVGRExGRkJRVkVzUTBGQlF5eEhRVUZITEVOQlFVTTdRVUZEZWtJc1EwRkJReUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0JTWldGamRDQm1jbTl0SUNkeVpXRmpkQ2M3WEc1cGJYQnZjblFnZXlCT1lYWnBaMkYwWlNCOUlHWnliMjBnSjNKbFlXTjBMWEp2ZFhSbGNpMWtiMjBuTzF4dWFXMXdiM0owSUhzZ2RYTmxRWFYwYUNCOUlHWnliMjBnSjBBdmFHOXZhM012ZFhObFFYVjBhQ2M3WEc1cGJYQnZjblFnZXlCTWIyRmthVzVuVTNCcGJtNWxjaUI5SUdaeWIyMGdKeTR2VEc5aFpHbHVaMU53YVc1dVpYSW5PMXh1WEc0dktpcGNiaUFxSUZCeWIzUmxZM1JsWkZKdmRYUmxJR052YlhCdmJtVnVkQ0J3Y205d2MxeHVJQ292WEc1cGJuUmxjbVpoWTJVZ1VISnZkR1ZqZEdWa1VtOTFkR1ZRY205d2N5QjdYRzRnSUdOb2FXeGtjbVZ1T2lCU1pXRmpkQzVTWldGamRFNXZaR1U3WEc0Z0lISmxjWFZwY21WQlpHMXBiajg2SUdKdmIyeGxZVzQ3WEc1OVhHNWNiaThxS2x4dUlDb2dVSEp2ZEdWamRHVmtVbTkxZEdVZ1kyOXRjRzl1Wlc1MElIZHlZWEJ6SUhKdmRYUmxjeUIwYUdGMElISmxjWFZwY21VZ1lYVjBhR1Z1ZEdsallYUnBiMjVjYmlBcVhHNGdLaUJBWlhoaGJYQnNaVnh1SUNvZ1BGSnZkWFJsSUhCaGRHZzlYQ0l2WVdSdGFXNWNJaUJsYkdWdFpXNTBQWHRjYmlBcUlDQWdQRkJ5YjNSbFkzUmxaRkp2ZFhSbElISmxjWFZwY21WQlpHMXBiajVjYmlBcUlDQWdJQ0E4UVdSdGFXNVFZV2RsSUM4K1hHNGdLaUFnSUR3dlVISnZkR1ZqZEdWa1VtOTFkR1UrWEc0Z0tpQjlJQzgrWEc0Z0tpOWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQlFjbTkwWldOMFpXUlNiM1YwWlNoN0lHTm9hV3hrY21WdUxDQnlaWEYxYVhKbFFXUnRhVzRnUFNCbVlXeHpaU0I5T2lCUWNtOTBaV04wWldSU2IzVjBaVkJ5YjNCektTQjdYRzRnSUdOdmJuTjBJSHNnYVhOQmRYUm9aVzUwYVdOaGRHVmtMQ0JwYzB4dllXUnBibWNzSUhWelpYSWdmU0E5SUhWelpVRjFkR2dvS1R0Y2JseHVJQ0JwWmlBb2FYTk1iMkZrYVc1bktTQjdYRzRnSUNBZ2NtVjBkWEp1SUNoY2JpQWdJQ0FnSUR4a2FYWWdZMnhoYzNOT1lXMWxQVndpWm14bGVDQnFkWE4wYVdaNUxXTmxiblJsY2lCcGRHVnRjeTFqWlc1MFpYSWdiV2x1TFdndGMyTnlaV1Z1WENJK1hHNGdJQ0FnSUNBZ0lEeE1iMkZrYVc1blUzQnBibTVsY2lCemFYcGxQVndpYkdkY0lpQXZQbHh1SUNBZ0lDQWdQQzlrYVhZK1hHNGdJQ0FnS1R0Y2JpQWdmVnh1WEc0Z0lHbG1JQ2doYVhOQmRYUm9aVzUwYVdOaGRHVmtLU0I3WEc0Z0lDQWdjbVYwZFhKdUlEeE9ZWFpwWjJGMFpTQjBiejFjSWk5c2IyZHBibHdpSUhKbGNHeGhZMlVnTHo0N1hHNGdJSDFjYmx4dUlDQnBaaUFvY21WeGRXbHlaVUZrYldsdUlDWW1JSFZ6WlhJL0xuSnZiR1VnSVQwOUlDZGhaRzFwYmljcElIdGNiaUFnSUNCeVpYUjFjbTRnUEU1aGRtbG5ZWFJsSUhSdlBWd2lMMXdpSUhKbGNHeGhZMlVnTHo0N1hHNGdJSDFjYmx4dUlDQnlaWFIxY200Z1BENTdZMmhwYkdSeVpXNTlQQzgrTzF4dWZWeHVJbDE5Il19